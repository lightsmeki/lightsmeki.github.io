<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="不林的博客" content="不林的博客" />
  <meta name="burin's blog" content="burin's blog" />
  
    <title>事件分发机制 | Burin&#39;s blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Burin">
    
    <meta name="description" content="">
    
    
    <link rel="alternative" href="./atom.xml" title="Burin&#39;s blog" type="application/atom+xml">
    
    
    <link rel="icon" href="../../img/favicon.ico">
    

    <!--<link rel="stylesheet" href="../../../css/style.css" type="text/css">-->

    <style type="text/css" media="screen, projection">
        html,
        body,
        div,
        span,
        applet,
        object,
        iframe,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        blockquote,
        pre,
        a,
        abbr,
        acronym,
        address,
        big,
        cite,
        code,
        del,
        dfn,
        em,
        img,
        ins,
        kbd,
        q,
        s,
        samp,
        small,
        strike,
        strong,
        sub,
        sup,
        tt,
        var,
        dl,
        dt,
        dd,
        ol,
        ul,
        li,
        fieldset,
        form,
        label,
        legend,
        table,
        caption,
        tbody,
        tfoot,
        thead,
        tr,
        th,
        td {
            margin: 0;
            padding: 0;
            border: 0;
            outline: 0;
            font-weight: inherit;
            font-style: inherit;
            font-family: inherit;
            font-size: 100%;
            vertical-align: baseline;
        }
        body {
            line-height: 1;
            color: #000;
            background: #fff;
        }
        ol,
        ul {
            list-style: none;
        }
        table {
            border-collapse: separate;
            border-spacing: 0;
            vertical-align: middle;
        }
        caption,
        th,
        td {
            text-align: left;
            font-weight: normal;
            vertical-align: middle;
        }
        a img {
            border: none;
        }
        /* custom Font*/
        @font-face {
            font-family: "covered_by_your_graceregular";
            font-weight: normal;
            font-style: normal;
            src: url("../font/coveredbyyourgrace-webfont.eot");
            src: url("../font/coveredbyyourgrace-webfont.eot?#iefix") format('embedded-opentype'), url("../font/coveredbyyourgrace-webfont.svg#covered_by_your_graceregular") format('svg'), url("../font/coveredbyyourgrace-webfont.woff") format('woff'), url("../font/coveredbyyourgrace-webfont.ttf") format('truetype');
        }
        /* icon Font */
        @font-face {
            font-family: "FontAwesome";
            font-style: normal;
            font-weight: normal;
            src: url("../font/fontawesome-webfont.eot?v=#4.0.3");
            src: url("../font/fontawesome-webfont.eot?#iefix&v=#4.0.3") format("embedded-opentype"), url("../font/fontawesome-webfont.woff?v=#4.0.3") format("woff"), url("../font/fontawesome-webfont.ttf?v=#4.0.3") format("truetype"), url("../font/fontawesome-webfont.svg#fontawesomeregular?v=#4.0.3") format("svg");
        }
        @font-face {
            font-family: "fontdiao";
            font-weight: normal;
            font-style: normal;
            src: url("../font/fontdiao.eot");
            src: url("../font/fontdiao.eot?#iefix") format('embedded-opentype'), url("../font/fontdiao.svg#fontdiao") format('svg'), url("../font/fontdiao.woff") format('woff'), url("../font/fontdiao.ttf") format('truetype');
        }
        /* Public style */
        * {
            -webkit-margin-before: 0;
            -webkit-margin-after: 0;
        }
        body {
            background: #ddd;
            font-family: "Helvetica Neue", "Helvetica", "Microsoft YaHei", "WenQuanYi Micro Hei", Arial, sans-serif;
            font-size: 100%;
            color: #817c7c;
            line-height: 1.5;
        }
        small {
            font-size: 80%;
        }
        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative;
            vertical-align: baseline;
        }
        sup {
            top: -0.5em;
            padding-left: 0.3em;
        }
        sub {
            bottom: -0.25em;
        }
        a {
            text-decoration: none;
            color: #817c7c;
        }
        a:hover,
        a:focus {
            outline: 0;
            text-decoration: none;
            -webkit-transition: color 0.25s, background 0.5s;
            -moz-transition: color 0.25s, background 0.5s;
            -o-transition: color 0.25s, background 0.5s;
            -ms-transition: color 0.25s, background 0.5s;
            transition: color 0.25s, background 0.5s;
        }
        a:hover:before {
            -webkit-transition: color 0.25s, background 0.5s;
            -moz-transition: color 0.25s, background 0.5s;
            -o-transition: color 0.25s, background 0.5s;
            -ms-transition: color 0.25s, background 0.5s;
            transition: color 0.25s, background 0.5s;
        }
        input:focus {
            outline: none;
        }
        input,
        button {
            margin: 0;
            padding: 0;
        }
        input::-moz-focus-inner,
        button::-moz-focus-inner {
            border: 0;
            padding: 0;
        }
        h1 {
            font-size: 1.5em;
        }
        .fa {
            display: inline-block;
            font-family: FontAwesome;
            font-style: normal;
            font-weight: normal;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .clearfix {
            zoom: 1;
        }
        .clearfix:before,
        .clearfix:after {
            content: "";
            display: table;
        }
        .clearfix:after {
            clear: both;
        }
        ::-webkit-input-placeholder {
            color: #fff;
            padding: 2px 0 0 4px;
        }
        ::-moz-placeholder {
            color: #fff;
            padding: 2px 0 0 4px;
        }
        :-ms-input-placeholder {
            color: #fff;
            padding: 2px 0 0 4px;
        }
        ::-webkit-input-placeholder::before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f002";
            padding-right: 4px;
        }
        ::-moz-placeholder:before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f002";
            padding-right: 4px;
        }
        :-ms-input-placeholder::before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f002";
            padding-right: 4px;
        }
        input[type="search"]::-webkit-search-cancel-button,
        input[type="search"]::-webkit-search-decoration {
            -webkit-appearance: none;
        }
        ::-webkit-search-cancel-button:after {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: '\f00d';
            color: #fff;
            padding-right: 4px;
        }
        /* css3 animate */
        .animated {
            -webkit-animation-fill-mode: both;
            -moz-animation-fill-mode: both;
            -o-animation-fill-mode: both;
            -ms-animation-fill-mode: both;
            animation-fill-mode: both;
            -webkit-animation-duration: 1s;
            -moz-animation-duration: 1s;
            -o-animation-duration: 1s;
            -ms-animation-duration: 1s;
            animation-duration: 1s;
        }
        @-webkit-keyframes fadeIn {
            0% {
                opacity: 0;
                -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
                filter: alpha(opacity=0);
            }
            100% {
                opacity: 1;
                -ms-filter: none;
                filter: none;
            }
        }
        .fadeIn {
            -webkit-animation-name: fadeIn;
            -moz-animation-name: fadeIn;
            -o-animation-name: fadeIn;
            -ms-animation-name: fadeIn;
            animation-name: fadeIn;
        }
        .fadeOut {
            -webkit-animation-name: fadeOut;
            -moz-animation-name: fadeOut;
            -o-animation-name: fadeOut;
            -ms-animation-name: fadeOut;
            animation-name: fadeOut;
        }
        @-moz-keyframes fadeInDown {
            0% {
                opacity: 0;
                -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
                filter: alpha(opacity=0);
                -webkit-transform: translateY(-20px);
                -moz-transform: translateY(-20px);
                -o-transform: translateY(-20px);
                -ms-transform: translateY(-20px);
                transform: translateY(-20px);
            }
            100% {
                opacity: 1;
                -ms-filter: none;
                filter: none;
                -webkit-transform: translateY(0);
                -moz-transform: translateY(0);
                -o-transform: translateY(0);
                -ms-transform: translateY(0);
                transform: translateY(0);
            }
        }
        @-webkit-keyframes fadeInDown {
            0% {
                opacity: 0;
                -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
                filter: alpha(opacity=0);
                -webkit-transform: translateY(-20px);
                -moz-transform: translateY(-20px);
                -o-transform: translateY(-20px);
                -ms-transform: translateY(-20px);
                transform: translateY(-20px);
            }
            100% {
                opacity: 1;
                -ms-filter: none;
                filter: none;
                -webkit-transform: translateY(0);
                -moz-transform: translateY(0);
                -o-transform: translateY(0);
                -ms-transform: translateY(0);
                transform: translateY(0);
            }
        }
        @-o-keyframes fadeInDown {
            0% {
                opacity: 0;
                -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
                filter: alpha(opacity=0);
                -webkit-transform: translateY(-20px);
                -moz-transform: translateY(-20px);
                -o-transform: translateY(-20px);
                -ms-transform: translateY(-20px);
                transform: translateY(-20px);
            }
            100% {
                opacity: 1;
                -ms-filter: none;
                filter: none;
                -webkit-transform: translateY(0);
                -moz-transform: translateY(0);
                -o-transform: translateY(0);
                -ms-transform: translateY(0);
                transform: translateY(0);
            }
        }
        @keyframes fadeInDown {
            0% {
                opacity: 0;
                -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
                filter: alpha(opacity=0);
                -webkit-transform: translateY(-20px);
                -moz-transform: translateY(-20px);
                -o-transform: translateY(-20px);
                -ms-transform: translateY(-20px);
                transform: translateY(-20px);
            }
            100% {
                opacity: 1;
                -ms-filter: none;
                filter: none;
                -webkit-transform: translateY(0);
                -moz-transform: translateY(0);
                -o-transform: translateY(0);
                -ms-transform: translateY(0);
                transform: translateY(0);
            }
        }
        body >header {
            width: 100%;
            -webkit-box-shadow: 2px 4px 5px rgba(3,3,3,0.2);
            box-shadow: 2px 4px 5px rgba(3,3,3,0.2);
            background: #da4453;
            color: #fff;
            padding: 1em 0 0.8em;
        }
        @media only screen and (min-width: 1024px) {
            body >header {
                padding: 1.8em 0 1.5em;
            }
        }
        body >header >div {
            width: 95%;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }
        @media only screen and (min-width: 1024px) {
            body >header >div {
                width: 93%;
            }
        }
        body >header a {
            display: block;
            color: #fff;
        }
        #imglogo {
            float: left;
            width: 4em;
            height: 4em;
        }
        @media only screen and (min-width: 768px) {
            #imglogo {
                width: 5em;
            }
        }
        @media only screen and (min-width: 1024px) {
            #imglogo {
                width: 5.5em;
            }
        }
        #imglogo img {
            width: 4em;
        }
        @media only screen and (min-width: 768px) {
            #imglogo img {
                width: 5em;
            }
        }
        @media only screen and (min-width: 1024px) {
            #imglogo img {
                width: 5.5em;
            }
        }
        #textlogo {
            float: left;
            width: 75%;
            margin-left: 0.5em;
        }
        #textlogo h1.site-name {
            width: 86%;
            font-family: "covered_by_your_graceregular";
            font-size: 200%;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        @media only screen and (min-width: 768px) {
            #textlogo h1.site-name {
                font-size: 240%;
            }
        }
        @media only screen and (min-width: 1024px) {
            #textlogo h1.site-name {
                font-size: 280%;
            }
        }
        #textlogo h2.blog-motto {
            font-size: 0.7em;
            font-weight: normal;
        }
        @media only screen and (min-width: 768px) {
            #textlogo h2.blog-motto {
                font-size: 100%;
            }
        }
        @media only screen and (min-width: 1024px) {
            #textlogo h2.blog-motto {
                font-size: 110%;
            }
        }
        .navbar {
            position: absolute;
            width: 2em;
            right: 0em;
            top: 1em;
            padding: 0.5em;
        }
        @media only screen and (min-width: 1024px) {
            .navbar {
                display: none;
            }
        }
        .navbutton::before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f0c9";
        }
        .navmobile::before {
            padding-left: 1em;
        }
        header nav {
            float: left;
            width: 100%;
            font-size: 112.5%;
            padding-top: 0.5em;
            max-height: 0.01em;
            -webkit-transition: max-height 1s ease-out;
            -moz-transition: max-height 1s ease-out;
            -o-transition: max-height 1s ease-out;
            -ms-transition: max-height 1s ease-out;
            transition: max-height 1s ease-out;
        }
        @media only screen and (min-width: 568px) {
            header nav {
                width: 50%;
            }
        }
        @media only screen and (min-width: 1024px) {
            header nav {
                float: right;
                width: auto;
                margin-top: 1em;
                max-height: none;
            }
        }
        @media only screen and (min-width: 1024px) {
            header nav ul {
                float: right;
            }
        }
        @media only screen and (min-width: 1024px) {
            header nav ul li {
                float: left;
            }
        }
        header nav ul li a {
            padding: 0.2em 0 0.2em 1em;
        }
        @media only screen and (min-width: 1024px) {
            header nav ul li a {
                padding: 0.2em 1.5em;
            }
        }
        header nav ul li a:hover {
            background: #ba1c2c;
            color: #ed5565;
        }
        .shownav {
            max-height: 40em;
        }
        .search {
            padding: 0.1em 0 0 1em;
        }
        .search input {
            -webkit-appearance: textfield;
            font-size: 0.87em;
            line-height: 1.7;
            border: 1px solid #fff;
            color: #fff;
            background: transparent;
            width: 80%;
            padding-left: 0.5em;
        }
        @media only screen and (min-width: 1024px) {
            .search input {
                width: 8em;
                -webkit-transition: 0.5s width;
                -moz-transition: 0.5s width;
                -o-transition: 0.5s width;
                -ms-transition: 0.5s width;
                transition: 0.5s width;
            }
            .search input:focus {
                width: 15em;
            }
        }
        .search label {
            display: none;
        }
        /* index layout */
        #container {
            width: 95%;
            margin: 0 auto;
            overflow: hidden;
        }
        @media only screen and (min-width: 768px) {
            #container {
                width: 96%;
            }
        }
        @media only screen and (min-width: 1024px) {
            #container {
                width: 94%;
            }
        }
        @media only screen and (min-width: 1560px) {
            #container {
                width: 82%;
            }
        }
        #main {
            margin: 1em 0 0;
            line-height: 1.8;
        }
        @media only screen and (min-width: 1024px) {
            #main {
                margin: 2em 0 0;
                width: 75%;
                float: left;
                -webkit-transition: margin 0.5s ease-out;
                -moz-transition: margin 0.5s ease-out;
                -o-transition: margin 0.5s ease-out;
                -ms-transition: margin 0.5s ease-out;
                transition: margin 0.5s ease-out;
            }
        }
        #main section.post {
            background: #fafafa;
            margin-bottom: 0.125em;
        }
        #main section.post a {
            display: block;
            border-left: 0.5em solid #ccc;
            -webkit-transition: border-left 0.45s;
            -moz-transition: border-left 0.45s;
            -o-transition: border-left 0.45s;
            -ms-transition: border-left 0.45s;
            transition: border-left 0.45s;
            padding: 0.5em;
        }
        @media only screen and (min-width: 768px) {
            #main section.post a {
                padding: 1em;
            }
        }
        #main section.post a:hover {
            border-left: 0.5em solid #da4453;
        }
        #main section.post a h1 {
            color: #da4453;
            line-height: 2;
        }
        #main section.post a p {
            color: #817c7c;
        }
        #main section.post a time {
            color: #817c7c;
            display: block;
            margin: 0.5em 0;
            font-size: 0.9em;
        }
        #archive-page section.post a {
            font-size: 0.9em;
            padding: 0.5em !important;
        }
        @media only screen and (min-width: 768px) {
            #archive-page section.post a time {
                padding-left: 1em;
            }
        }
        .moveMain {
            margin-left: 10% !important;
        }
        #page-nav {
            background: #fafafa;
            text-align: center;
            overflow: hidden;
        }
        #page-nav a {
            display: inline-block;
            padding: 0.5em 1em;
        }
        #page-nav a {
            color: #da4453;
        }
        #page-nav a:hover {
            background: #ccc;
            color: #da4453;
        }
        #page-nav .prev {
            float: left;
            border-left: 0.5em solid #ccc;
            -webkit-transition: border-left 0.5s;
            -moz-transition: border-left 0.5s;
            -o-transition: border-left 0.5s;
            -ms-transition: border-left 0.5s;
            transition: border-left 0.5s;
        }
        #page-nav .prev:hover {
            border-left: 0.5em solid #da4453;
        }
        #page-nav .prev span:before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f053";
            padding-right: 0.5em;
        }
        #page-nav .next {
            float: right;
        }
        #page-nav .next span:before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f054";
            padding-left: 0.5em;
        }
        #page-nav .page-number {
            display: none;
            padding: 0.5em 1em;
        }
        @media only screen and (min-width: 768px) {
            #page-nav .page-number {
                display: inline-block;
            }
        }
        #page-nav .current {
            color: #b8b8b8;
            font-weight: bold;
        }
        #page-nav .space {
            color: #da4453;
        }
        /* page layout */
        @media only screen and (min-width: 1024px) {
            .page {
                margin-left: 10% !important;
            }
        }
        /* archive layout */
        .category-icon:before,
        .tag-icon:before,
        .archive-icon:before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            color: #ccc;
            font-size: 100%;
            padding-right: 0.3em;
        }
        .category-icon:before {
            content: "\f07b";
        }
        .tag-icon:before {
            content: "\f02c";
        }
        .archive-icon:before {
            content: "\f187";
        }
        .archive-title {
            margin: 1em 0;
            width: 97%;
            padding: 2em 0 2em 3%;
            background: #fafafa;
            border-left: 0.5em solid #ccc;
        }
        @media only screen and (min-width: 1024px) {
            .archive-title {
                margin: 2em 0;
                width: 18.5%;
                padding-left: 0.5%;
                float: left;
            }
        }
        .archive-title h2 {
            width: 90%;
            color: #da4453;
            font-size: 120%;
        }
        .archive-title a {
            color: #da4453;
            -webkit-transition: color 0.5s;
            -moz-transition: color 0.5s;
            -o-transition: color 0.5s;
            -ms-transition: color 0.5s;
            transition: color 0.5s;
        }
        .archive-title a:hover {
            color: #da4453;
            -webkit-transition: color 0.5s;
            -moz-transition: color 0.5s;
            -o-transition: color 0.5s;
            -ms-transition: color 0.5s;
            transition: color 0.5s;
        }
        .current {
            color: #da4453 !important;
        }
        @media only screen and (min-width: 768px) {
            .archive-part {
                min-height: 200px;
            }
        }
        @media only screen and (min-width: 1024px) {
            .archive-part {
                width: 78% !important;
                float: right;
                margin-left: 2% !important;
            }
        }
        .archive-part section.post {
            width: 100%;
        }
        .archive-part section.post time {
            font-size: 1.1em !important;
            float: left;
        }
        @media only screen and (max-width: 568px) {
            .archive-part section.post time {
                width: 100%;
            }
        }
        @media only screen and (min-width: 1024px) {
            .archive-part section.post time {
                width: 20%;
            }
        }
        @media only screen and (min-width: 768px) {
            .archive-nav {
                width: 100%;
                float: left;
                margin-top: 1em;
            }
        }
        /* tags&categories layout */
        .all-list-box {
            min-height: 400px;
        }
        .post,
        .page {
            background: #fafafa;
        }
        .post a,
        .page a {
            color: #da4453;
        }
        .post a:hover,
        .page a:hover {
            color: #ed5565;
        }
        @media only screen and (min-width: 768px) {
            article header.article-info {
                border-bottom: 1px solid #dbdbdb;
            }
        }
        article header.article-info >h1 {
            padding: 0.2em 3%;
            font-size: 170%;
            line-height: 1.5;
            word-wrap: break-word;
            word-break: normal;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            border-left: 5px solid #da4453;
        }
        @media only screen and (min-width: 1024px) {
            article header.article-info >h1 {
                font-size: 200%;
                padding-top: 0.3em;
            }
        }
        article header.article-info >p.article-author {
            padding: 0.3em 4% 0.3em 0;
            text-align: right;
            border-bottom: 1px solid #dbdbdb;
        }
        @media only screen and (min-width: 768px) {
            article header.article-info >p.article-author {
                float: right;
                border-bottom: none;
            }
        }
        article header.article-info >p.article-time {
            padding-top: 0.5em;
            font-size: 0.8em;
            text-align: center;
        }
        @media only screen and (min-width: 768px) {
            article header.article-info >p.article-time {
                float: right;
                margin-right: 1em;
                padding-top: 0.1em;
                font-size: 0.9em;
            }
        }
        article header.article-info >p.article-time:before {
            font-family: "FontAwesome";
            font-size: 130%;
            content: "\f017";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        article .article-content {
            padding: 1.5em 4%;
            color: #413f3f;
            font-size: 100%;
        }
        article .article-content .kb {
            padding: 0.1em 0.6em;
            border: 1px solid #ccc;
            background-color: #000000;
            color: #8f8f8f;
            -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.2), 0 0 0 2px #fff inset;
            box-shadow: 0 1px 0 rgba(0,0,0,0.2), 0 0 0 2px #fff inset;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            display: inline-block;
            margin: 0 0.1em;
            text-shadow: 0 1px 0 #fff;
            line-height: 1.5;
            white-space: nowrap;
        }
        article .article-content h1,
        article .article-content h2 {
            font-size: 180%;
            line-height: 1.2em;
            padding-bottom: 0.3em;
            margin-top: 1.5em;
            border-bottom: 2px solid #dbdbdb;
        }
        article .article-content h3,
        article .article-content h4,
        article .article-content h5,
        article .article-content h6 {
            font-size: 140%;
        }
        article .article-content h1,
        article .article-content h2,
        article .article-content h3,
        article .article-content h4,
        article .article-content h5,
        article .article-content h6 {
            color: #333;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        article .article-content h1 >code,
        article .article-content h2 >code,
        article .article-content h3 >code,
        article .article-content h4 >code,
        article .article-content h5 >code,
        article .article-content h6 >code {
            color: #a3a3a3;
        }
        article .article-content hr {
            border: 1px solid #dbdbdb;
        }
        article .article-content strong {
            font-weight: bold;
        }
        article .article-content em {
            font-style: italic;
        }
        article .article-content acronym,
        article .article-content abbr {
            border-bottom: 1px dotted;
        }
        article .article-content blockquote {
            border-left: 0.2em solid #da4453;
            margin: 0.65em 0 0.65em 1%;
            padding-left: 1%;
            line-height: 1.5;
            font-size: 100%;
        }
        article .article-content blockquote footer {
            background: #fafafa;
            padding: 0;
            margin: 0;
            font-size: 80%;
            line-height: 1em;
        }
        article .article-content blockquote cite {
            font-style: italic;
            padding-left: 0.5em;
        }
        article .article-content ul,
        article .article-content ol {
            padding-left: 1.5em;
            font-size: 100%;
            padding-top: 0.7em;
        }
        @media only screen and (min-width: 768px) {
            article .article-content ul,
            article .article-content ol {
                padding-left: 1.5em;
            }
        }
        article .article-content ul li {
            list-style: disc;
            text-align: match-parent;
        }
        article .article-content ol li {
            list-style-type: decimal;
        }
        article .article-content dl dt {
            font-weight: bold;
        }
        article .article-content ul li>code,
        article .article-content ol li>code,
        article .article-content p code,
        article .article-content strong code,
        article .article-content em code {
            font-family: Monaco, Menlo, Consolas, Courier New, monospace;
            background: #eee;
            color: #d14;
            border: 1px solid #d6d6d6;
            padding: 0 5px;
            margin: 0 2px;
            font-size: 90%;
            white-space: nowrap;
            text-shadow: 0 1px #fff;
            -webkit-border-radius: 0.25em;
            -webkit-border-radius: 0.25em;
            border-radius: 0.25em;
        }
        article .article-content p {
            line-height: 1.5;
            margin-top: 0.7em;
        }
        @media only screen and (min-width: 1024px) {
            article .article-content p {
                margin-top: 1em;
            }
        }
        article .article-content img,
        article .article-content video,
        article .article-content figure img {
            max-width: 100%;
            height: auto;
            vertical-align: middle;
            padding-top: 0.5em;
        }
        @media only screen and (min-width: 1024px) {
            article .article-content img,
            article .article-content video,
            article .article-content figure img {
                padding-top: 0.7em;
            }
        }
        article .article-content figcaption,
        article .article-content .caption {
            text-align: center;
            display: block;
            font-size: 0.9em;
            font-weight: bold;
        }
        article .article-content .video-container {
            position: relative;
            padding-top: 56%;
            height: 0;
            overflow: hidden;
        }
        article .article-content .video-container iframe,
        article .article-content .video-container object,
        article .article-content .video-container embed {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            margin-top: 0;
        }
        article .article-content table {
            width: 100%;
            border-collapse: collapse;
            border-spacing: 0;
        }
        article .article-content table th {
            font-weight: bold;
            border-bottom: 3px solid #dbdbdb;
            padding-bottom: 0.5em;
        }
        article .article-content table td {
            border-bottom: 1px solid #dbdbdb;
            padding: 10px 0;
        }
        article .article-content .pullquote {
            text-align: left;
            width: 45%;
            margin: 0;
            border: none;
        }
        article .article-content .left {
            margin-left: 0.5em;
            margin-right: 1em;
            float: left;
        }
        article .article-content .right {
            margin-right: 0.5em;
            margin-left: 1em;
            float: right;
        }
        footer.article-footer {
            background: #fafafa;
            padding: 0 4%;
            margin: 0;
            border-top: 1px solid #dbdbdb;
        }
        .article-share {
            float: right;
            width: 100%;
        }
        @media only screen and (min-width: 568px) {
            .article-share {
                width: 60%;
            }
        }
        @media only screen and (min-width: 768px) {
            .article-share {
                width: 16.5em;
            }
        }
        .article-share .share-jiathis {
            padding: 0.5em 0;
            margin-top: 0.3em;
        }
        .share span {
            float: right;
            height: 3em;
            width: 1em;
            margin-right: 0.5em;
            position: relative;
            color: #d6d6d6;
        }
        .share span:before {
            font-family: "FontAwesome";
            content: "\f064";
            font-size: 1em;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            width: 1.5em;
            height: 1.5em;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-top: -0.75em;
            margin-left: -0.75em;
        }
        .share a {
            float: right;
            width: 3em;
            height: 3em;
            display: block;
            position: relative;
        }
        .share a:before {
            font-size: 100%;
            font-family: "FontAwesome";
            text-align: center;
            color: #817c7c;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            width: 1.5em;
            height: 1.5em;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-top: -0.75em;
            margin-left: -0.75em;
        }
        .share a:hover:before {
            color: #fff;
        }
        .article-share-twitter:before {
            content: "\f099";
        }
        .article-share-twitter:hover {
            background: #00aced;
            text-shadow: 0 1px #008abe;
        }
        .article-share-facebook:before {
            content: "\f09a";
        }
        .article-share-facebook:hover {
            background: #3b5998;
            text-shadow: 0 1px #2f477a;
        }
        .article-share-weibo:before {
            content: "\f18a";
        }
        .article-share-weibo:hover {
            background: #c64d3e;
            text-shadow: 0 1px #a13c2f;
        }
        .article-share-qrcode:before {
            content: "\f029";
        }
        .article-share-qrcode:hover {
            background: #49ae0f;
            text-shadow: 0 1px #3a8b0c;
        }
        .article-share-renren:before {
            content: "\f18b";
        }
        .article-share-renren:hover {
            background: #369;
            text-shadow: 0 1px #29527a;
        }
        .article-back-to-top:before {
            content: "\f062";
        }
        .article-back-to-top:hover {
            background: #762c54;
            text-shadow: 0 1px #5e2343;
        }
        .qrcode {
            width: 15em;
            height: 15em;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-top: -7.5em;
            margin-left: -7.5em;
            background: #fff;
            border: 2px solid #ccc;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            display: inline-block;
            opacity: 0;
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
            filter: alpha(opacity=0);
            position: fixed;
            text-align: center;
            visibility: hidden;
            z-index: 10;
            -webkit-transition: opacity 0.5s;
            -moz-transition: opacity 0.5s;
            -o-transition: opacity 0.5s;
            -ms-transition: opacity 0.5s;
            transition: opacity 0.5s;
        }
        @media only screen and (min-width: 1024px) {
            .qrcode {
                width: 20em;
                height: 20em;
                position: absolute;
                top: 50%;
                left: 50%;
                margin-top: -10em;
                margin-left: -10em;
                position: fixed;
            }
        }
        .qrcode span {
            display: block;
            width: 80%;
            height: 1.5em;
            font-size: 80%;
            float: left;
        }
        .qrcode span:before {
            content: none;
        }
        .qrcode a {
            display: block;
            width: 16%;
            height: 1.5em;
            float: left;
        }
        .qrcode img {
            width: 90%;
            height: 90%;
        }
        .qrclose:before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f057";
            color: #ccc;
        }
        .qrclose:hover:before {
            color: #da4453 !important;
        }
        .overlay {
            display: none !important;
        }
        .overlay:target+.qrcode {
            opacity: 1;
            -ms-filter: none;
            filter: none;
            visibility: visible;
        }
        @media only screen and (min-width: 768px) {
            .article-catetags {
                width: 60%;
            }
        }
        .article-tags,
        .article-categories {
            padding: 0.5em 0;
            float: left;
            /**width 100%**/
        }
        @media only screen and (max-width: 568px) {
            .article-tags,
            .article-categories {
                width: 100%;
            }
        }
        .article-tags {
            color: #d6d6d6;
            margin-left: 3em;
        }
        @media only screen and (max-width: 568px) {
            .article-tags {
                margin-left: 0;
            }
        }
        .article-tags span {
            position: relative;
            float: left;
            width: 1em;
            height: 2em;
            margin-right: 0.5em;
        }
        .article-tags span:before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            width: 1.2em;
            height: 1.2em;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-top: -0.6em;
            margin-left: -0.6em;
            content: "\f02c";
        }
        .article-tags a {
            float: left;
            padding: 0 0.3em;
            margin: 0.3em;
            background: #e6e6e6;
        }
        .article-tags a:hover {
            color: #fff;
            background: #da4453;
        }
        .article-categories {
            color: #d6d6d6;
            margin-top: 0.3em;
        }
        .article-categories span:before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f07b";
        }
        .article-category-link {
            padding: 0.5em;
            margin: 0 0.3em;
        }
        .article-category-link:hover {
            color: #fff !important;
            background: #da4453;
        }
        .article-nav {
            padding: 0 10%;
        }
        @media only screen and (min-width: 768px) {
            .article-nav {
                padding: 0 4%;
            }
        }
        .article-nav strong {
            font-size: 1em;
            font-weight: bold;
        }
        .article-nav a {
            display: block;
            overflow: hidden;
        }
        .article-nav .prev a:hover,
        .article-nav .next a:hover {
            background: #da4453;
            color: #fff;
        }
        .article-nav .prev {
            width: 100%;
            float: left;
        }
        .article-nav .prev strong {
            padding-left: 1.8em;
        }
        .article-nav .prev span:before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f053";
            padding-right: 0.5em;
        }
        @media only screen and (min-width: 768px) {
            .article-nav .prev {
                width: 45%;
                float: left;
            }
        }
        .article-nav .next {
            width: 100%;
            float: left;
            text-align: left;
        }
        .article-nav .next strong {
            padding-left: 1.5em;
        }
        .article-nav .next span:before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f054";
            padding-right: 0.5em;
        }
        @media only screen and (min-width: 768px) {
            .article-nav .next {
                width: 45%;
                float: right;
                text-align: right;
            }
            .article-nav .next strong {
                padding-right: 1.8em;
            }
            .article-nav .next span:before {
                content: none;
            }
            .article-nav .next span:after {
                font-family: "FontAwesome";
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                content: "\f054";
                padding-left: 0.5em;
            }
        }
        section.comment {
            padding: 0 4%;
            margin: 1em 0;
        }
        .toc-article {
            background: #eee;
            margin: 1.6em 0 0 2em;
            padding: 1em;
            -webkit-border-radius: 4px;
            -webkit-border-radius: 4px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        .toc-article strong {
            padding: 0.3em 0;
        }
        .toc-article ul li {
            list-style: disc;
            text-align: match-parent;
            margin: 0.5em 0;
        }
        .toc-article ol li {
            list-style-type: decimal;
            margin: 0.5em 0;
        }
        #toc {
            line-height: 1.3em;
            font-size: 0.8em;
            float: right;
        }
        #toc .toc {
            padding: 0;
        }
        #toc .toc li {
            list-style-type: none;
        }
        #toc .toc-child {
            padding-left: 1.5em;
        }
        #toc.toc-aside {
            display: none;
            width: 13%;
            position: fixed;
            right: 2%;
            top: 320px;
            overflow: hidden;
            line-height: 1.5em;
            font-size: 1em;
            color: #333;
            opacity: 0.6;
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
            filter: alpha(opacity=60);
            -webkit-transition: opacity 1s ease-out;
            -moz-transition: opacity 1s ease-out;
            -o-transition: opacity 1s ease-out;
            -ms-transition: opacity 1s ease-out;
            transition: opacity 1s ease-out;
        }
        #toc.toc-aside strong {
            padding: 0.3em 0;
            color: #817c7c;
        }
        #toc.toc-aside:hover {
            -webkit-transition: opacity 0.3s ease-out;
            -moz-transition: opacity 0.3s ease-out;
            -o-transition: opacity 0.3s ease-out;
            -ms-transition: opacity 0.3s ease-out;
            transition: opacity 0.3s ease-out;
            opacity: 1;
            -ms-filter: none;
            filter: none;
        }
        #toc.toc-aside a {
            -webkit-transition: color 1s ease-out;
            -moz-transition: color 1s ease-out;
            -o-transition: color 1s ease-out;
            -ms-transition: color 1s ease-out;
            transition: color 1s ease-out;
        }
        #toc.toc-aside a:hover {
            color: #da4453;
            -webkit-transition: color 0.3s ease-out;
            -moz-transition: color 0.3s ease-out;
            -o-transition: color 0.3s ease-out;
            -ms-transition: color 0.3s ease-out;
            transition: color 0.3s ease-out;
        }
        .active {
            color: #da4453 !important;
        }
        .openaside {
            display: none;
            position: fixed;
            right: 7.5%;
            top: 260px;
        }
        .openaside a {
            display: block;
            color: #fff;
            border: 1px solid #fff;
            -webkit-border-radius: 5px;
            border-radius: 5px;
            background: #da4453;
            padding: 0.2em 0.55em;
        }
        .openaside a::before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f0c9";
        }
        .closeaside {
            display: none;
        }
        .closeaside a {
            color: #da4453;
        }
        .closeaside a:hover {
            color: #da4453;
        }
        .closeaside a::before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f0c9";
        }
        @media only screen and (min-width: 1024px) {
            .closeaside {
                display: block;
                position: absolute;
                right: 25px;
                top: 22px;
            }
        }
        #asidepart {
            background: #fafafa;
            margin: 1em 0 0;
            padding: 0.5em 2% 1em;
        }
        @media only screen and (min-width: 1024px) {
            #asidepart {
                position: relative;
                float: left;
                width: 18%;
                margin: 2em 0 0 3%;
            }
        }
        .asidetitle {
            font-size: 1.1em;
            color: #da4453;
            padding: 0 0 0.3125em 0;
            border-bottom: 0.1875em solid #ccc;
        }
        .asidetitle a {
            color: #da4453;
        }
        .asidetitle a:hover {
            color: #da4453;
            -webkit-transition: color 0.5s;
            -moz-transition: color 0.5s;
            -o-transition: color 0.5s;
            -ms-transition: color 0.5s;
            transition: color 0.5s;
        }
        @media only screen and (min-width: 768px) {
            .categorieslist {
                width: 45%;
                float: left;
                margin: 0 5% 0 0;
            }
        }
        @media only screen and (min-width: 1024px) {
            .categorieslist {
                width: 100%;
                float: none;
                margin: 1em 0 0;
            }
        }
        .categorieslist li {
            border-bottom: 1px solid #ccc;
        }
        .categorieslist li a {
            display: block;
            padding: 0.5em 5%;
        }
        .categorieslist li a:hover {
            color: #da4453;
        }
        .tagslist {
            margin: 1em 0 0;
        }
        @media only screen and (min-width: 768px) {
            .tagslist {
                width: 45%;
                float: left;
                margin: 0 5% 0 0;
            }
        }
        @media only screen and (min-width: 1024px) {
            .tagslist {
                width: 100%;
                float: none;
                margin: 1em 0 0;
            }
        }
        .tagslist ul {
            padding: 0.5em 0;
        }
        .tagslist ul li {
            float: left;
        }
        .tagslist ul li a {
            display: block;
            margin: 0.3125em;
            padding: 0.125em 0.3125em;
            background: #dbdbdb;
        }
        .tagslist ul li a:hover {
            color: #da4453;
            background: #e6e6e6;
        }
        .rsspart {
            background: #da4453;
            width: 100%;
        }
        @media only screen and (min-width: 768px) {
            .rsspart {
                float: left;
                width: 45%;
                margin: 0 5% 0 0;
            }
        }
        @media only screen and (min-width: 1024px) {
            .rsspart {
                width: 100%;
                float: none;
                margin: 1em 0 0;
            }
        }
        .rsspart a {
            color: #fff;
            display: block;
            padding: 0.625em 0;
            text-align: center;
        }
        .rsspart a:hover {
            color: #da4453;
            background: #fafafa;
        }
        .rsspart a::before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            padding-right: 0.5em;
            content: "\f09e";
        }
        @media only screen and (min-width: 768px) {
            .archiveslist {
                width: 45%;
                float: left;
                margin: 0 5% 0 0;
            }
        }
        @media only screen and (min-width: 1024px) {
            .archiveslist {
                width: 100%;
                float: none;
                margin: 1em 0 0;
            }
        }
        .archiveslist li {
            font-size: 0.8em;
            line-height: 2em;
        }
        .archiveslist li a {
            padding: 0.5em;
        }
        .archiveslist li a:hover {
            color: #da4453;
            -webkit-transition: color 0.25s;
            -moz-transition: color 0.25s;
            -o-transition: color 0.25s;
            -ms-transition: color 0.25s;
            transition: color 0.25s;
        }
        .archiveslist .archive-list-count:before {
            content: "(";
        }
        .archiveslist .archive-list-count:after {
            content: ")";
        }
        .archive-list {
            padding: 0.5em 0;
        }
        .archive-float ul {
            padding: 0;
        }
        .archive-float li {
            float: left;
            margin: 0.3em;
        }
        @media only screen and (min-width: 1024px) {
            .archive-float li {
                float: none;
            }
        }
        @media only screen and (min-width: 768px) {
            .tagcloudlist {
                width: 45%;
                float: left;
                margin: 0 5% 0 0;
            }
        }
        @media only screen and (min-width: 1024px) {
            .tagcloudlist {
                width: 100%;
                float: none;
                margin: 1em 0 0;
            }
        }
        .tagcloudlist .tagcloudlist a {
            padding: 0.2em;
            display: block;
            float: left;
        }
        .tagcloudlist .tagcloudlist a:hover {
            color: #da4453;
            -webkit-transition: color 0.25s;
            -moz-transition: color 0.25s;
            -o-transition: color 0.25s;
            -ms-transition: color 0.25s;
            transition: color 0.25s;
        }
        .linkslist {
            margin-top: 0.5em;
        }
        @media only screen and (min-width: 768px) {
            .linkslist {
                width: 45%;
                float: left;
                margin: 0 5% 0 0;
            }
        }
        @media only screen and (min-width: 1024px) {
            .linkslist {
                width: 100%;
                float: none;
                margin: 1em 0 0;
            }
        }
        .linkslist ul {
            padding: 0.5em 0;
        }
        .linkslist ul a {
            font-size: 1em;
            line-height: 1.5;
            display: block;
            padding: 0 3%;
        }
        .linkslist ul a:hover {
            color: #da4453;
            -webkit-transition: color 0.25s;
            -moz-transition: color 0.25s;
            -o-transition: color 0.25s;
            -ms-transition: color 0.25s;
            transition: color 0.25s;
        }
        .weiboshow {
            margin-top: 0.5em;
        }
        @media only screen and (min-width: 768px) {
            .weiboshow {
                width: 45%;
                float: left;
                margin: 0 5% 0 0;
            }
        }
        @media only screen and (min-width: 1024px) {
            .weiboshow {
                width: 100%;
                float: none;
                margin: 1em 0 0;
            }
        }
        .weiboshow iframe {
            padding: 0.5em 0;
        }
        footer {
            margin-top: 1em;
            background: #1f1f1f;
            padding: 0 2% 0.5em;
        }
        #footer {
            width: 95%;
            margin: 0 auto;
            overflow: hidden;
            position: relative;
        }
        #footer .line {
            width: 100%;
            height: 14em;
            margin: 0 auto;
        }
        @media only screen and (min-width: 768px) {
            #footer .line {
                width: 10em;
                float: left;
                position: relative;
            }
        }
        #footer .line span {
            display: block;
            width: 0.5em;
            height: 6.25em;
            border-right: 0.125em solid #fff;
            margin: 0 auto;
        }
        @media only screen and (min-width: 768px) {
            #footer .line span {
                position: absolute;
                left: 3em;
                margin: 0 0 1.5em;
            }
        }
        .author {
            width: 6.875em;
            height: 6.875em;
            margin: 0 auto;
            background: no-repeat url("/img/author.jpg") left top;
            -webkit-background-size: 6.875em 6.875em;
            -moz-background-size: 6.875em 6.875em;
            background-size: 6.875em 6.875em;
            -webkit-border-radius: 3.4375em;
            border-radius: 3.4375em;
            -webkit-transition: -webkit-transform 2s ease-out;
            -moz-transition: -moz-transform 2s ease-out;
            -o-transition: -o-transform 2s ease-out;
            -ms-transition: -ms-transform 2s ease-out;
            transition: transform 2s ease-out;
        }
        .author:hover {

            width: 6.875em;
            height: 6.875em;
            margin: 0 auto;
            background: no-repeat url("/img/author_move.jpg")left top;
            -webkit-background-size: 6.875em 6.875em;
            -moz-background-size: 6.875em 6.875em;
            background-size: 6.875em 6.875em;
            -webkit-border-radius: 3.4375em;
            border-radius: 3.4375em;
            -webkit-transform: rotateZ(360deg);
            -moz-transform: rotateZ(360deg);
            -o-transform: rotateZ(360deg);
            -ms-transform: rotateZ(360deg);
            transform: rotateZ(360deg);
        }
        @media only screen and (min-width: 768px) {
            .author {
                position: absolute;
                top: 6em;
                margin: 0 0 1.5em;
            }
        }
        .info {
            font-family: "covered_by_your_graceregular";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-size: 150%;
            line-height: 1.3em;
            width: 90%;
            margin: 0 auto;
            color: #fff;
        }
        @media only screen and (min-width: 768px) {
            .info {
                margin: 4.5em 0 2em 0;
                float: left;
                width: 75%;
            }
        }
        .social-font {
            width: 100%;
            margin: 0 auto;
            float: left;
            padding-left: 3%;
        }
        @media only screen and (min-width: 568px) {
            .social-font {
                padding-left: 20%;
            }
        }
        @media only screen and (min-width: 768px) {
            .social-font {
                width: 15em;
                position: absolute;
                right: -2em;
                top: 3em;
            }
        }
        .social-font a {
            float: left;
            display: block;
            width: 14%;
            color: #fff;
            font-size: 185%;
            padding: 0.5em;
        }
        @media only screen and (min-width: 1024px) {
            .social-font a {
                padding: 0.3em;
            }
        }
        .social-font a:hover:before {
            color: #da4453;
        }
        .icon-weibo:before,
        .icon-github:before,
        .icon-twitter:before,
        .icon-facebook:before,
        .icon-stack-overflow:before,
        .icon-email:before,
        .icon-google_plus:before {
            font-family: "FontAwesome";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .icon-weibo:before {
            content: "\f18a";
        }
        .icon-github:before {
            content: "\f09b";
        }
        .icon-twitter:before {
            content: "\f099";
        }
        .icon-facebook:before {
            content: "\f09a";
        }
        .icon-stack-overflow:before {
            content: "\f16c";
        }
        .icon-email:before {
            content: "\f003";
        }
        .icon-google_plus:before {
            content: "\f0d5";
        }
        .icon-douban:before {
            font-family: "fontdiao";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\f111";
        }
        .copyright {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-family: "covered_by_your_graceregular";
            width: 100%;
            color: #fff;
            text-align: center;
        }
        @media only screen and (min-width: 768px) {
            .copyright {
                float: left;
            }
        }
        .copyright a {
            color: #da4453;
        }
        .copyright a:hover {
            color: #da4453;
            text-decoration: underline;
        }
        .article-content pre,
        .article-content .highlight,
        .article-content .highlight pre {
            background: #191919;
            margin: 0.5em 0;
            padding: 0.5em 2%;
            color: #fff;
            line-height: 0.5;
            font-size: 0.8em;
            -webkit-border-radius: 0.35em;
            -webkit-border-radius: 0.35em;
            border-radius: 0.35em;
            word-wrap: break-word;
        }
        @media only screen and (min-width: 568px) {
            .article-content pre,
            .article-content .highlight,
            .article-content .highlight pre,
            .article-content pre,
            .article-content .highlight,
            .article-content .highlight pre {
                font-size: 0.95em;
            }
        }
        .article-content .highlight .gutter pre,
        .article-content .gist .gist-file .gist-data .line-numbers {
            color: #666;
            font-size: 0.4em;
        }
        @media only screen and (min-width: 568px) {
            .article-content .highlight .gutter pre,
            .article-content .gist .gist-file .gist-data .line-numbers,
            .article-content .highlight .gutter pre,
            .article-content .gist .gist-file .gist-data .line-numbers {
                font-size: 0.95em;
                line-height: 1.5;
            }
        }
        .article-content pre {
            font-family: Monaco, Menlo, Consolas, Courier New, monospace;
            background: #f5f5f5;
            border: 1px solid #ccc;
        }
        .article-content pre code {
            color: #333;
            background: none;
            text-shadow: none;
            padding: 0;
        }
        .article-content .highlight {
            overflow: auto;
            font-size: 0.4em;
        }
        @media only screen and (min-width: 568px) {
            .article-content .highlight {
                font-size: 0.95em;
            }
        }
        .article-content .highlight pre {
            border: none;
            margin: 0;
            padding: 0;
        }
        .article-content .highlight table {
            margin: 0;
            width: auto;
        }
        .article-content .highlight td {
            border: none;
            padding: 0;
        }
        .article-content .highlight figcaption {
            zoom: 1;
            font-size: 0.85em;
            text-align: left;
            color: #357a8f;
            line-height: 1em;
            padding: 0.5em 0;
            margin-bottom: 0.5em;
        }
        .article-content .highlight figcaption:before,
        .article-content .highlight figcaption:after {
            content: "";
            display: table;
        }
        .article-content .highlight figcaption:after {
            clear: both;
        }
        .article-content .highlight figcaption a {
            float: right;
        }
        .article-content .highlight .gutter pre {
            text-align: left;
            padding-right: 1.5em;
        }
        .article-content .gist {
            margin: 0.5em 0;
            background: #191919;
            padding: 1em 2%;
        }
        .article-content .gist .gist-file {
            border: none;
            font-family: Monaco, Menlo, Consolas, Courier New, monospace;
            margin: 0;
        }
        .article-content .gist .gist-file .gist-data {
            background: none;
            border: none;
        }
        .article-content .gist .gist-file .gist-data .line-numbers {
            background: none;
            border: none;
            padding: 0 1.5em 0 0;
        }
        .article-content .gist .gist-file .gist-data .line-data {
            padding: 0 !important;
        }
        .article-content .gist .gist-file .highlight {
            margin: 0;
            padding: 0;
            border: none;
        }
        .article-content .gist .gist-file .gist-meta {
            background: #191919;
            color: #357a8f;
            font: 0.85em "Georgia", serif;
            text-shadow: 0 0;
            padding: 0;
            margin-top: 1em;
        }
        .article-content .gist .gist-file .gist-meta a {
            color: #da4453;
            font-weight: normal;
        }
        .article-content .gist .gist-file .gist-meta a:hover {
            color: #da4453;
        }
        pre .comment,
        pre .title {
            color: #357a8f;
        }
        pre .variable,
        pre .attribute,
        pre .tag,
        pre .regexp,
        pre .ruby .constant,
        pre .xml .tag .title,
        pre .xml .pi,
        pre .xml .doctype,
        pre .html .doctype,
        pre .css .id,
        pre .css .class,
        pre .css .pseudo {
            color: #f2777a;
        }
        pre .number,
        pre .preprocessor,
        pre .built_in,
        pre .literal,
        pre .params,
        pre .constant {
            color: #fc6e51;
        }
        pre .class,
        pre .ruby .class .title,
        pre .css .rules .attribute {
            color: #a0d468;
        }
        pre .string,
        pre .value,
        pre .inheritance,
        pre .header,
        pre .ruby .symbol,
        pre .xml .cdata {
            color: #a0d468;
        }
        pre .css .hexcolor {
            color: #5d9cec;
        }
        pre .function,
        pre .python .decorator,
        pre .python .title,
        pre .ruby .function .title,
        pre .ruby .title .keyword,
        pre .perl .sub,
        pre .javascript .title,
        pre .coffeescript .title {
            color: #4a89dc;
        }
        pre .keyword,
        pre .javascript .function {
            color: #ac92ec;
        }
        .article-gallery {
            background: #fafafa;
            position: relative;
        }
        .article-gallery-photos {
            position: relative;
            overflow: hidden;
        }
        .article-gallery-img {
            display: none;
            max-width: 100%;
        }
        img{
            display: block;
            max-width: 100%;
            margin: 0 auto;
        }
        .article-gallery-img:first-child {
            display: block;
        }
        .article-gallery-img .loaded {
            position: absolute;
            display: block;
        }
        #totop {
            position: fixed;
            bottom: 5em;
            right: 1em;
            cursor: pointer;
        }
        @media only screen and (max-width: 1024px) {
            #totop {
                display: none !important;
            }
        }
    </style>

        </head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="./"><img src="../../img/logo.png" alt="Burin&#39;s blog" title="Burin&#39;s blog"/></a>
			</div>

            <div id="textlogo">
              <h1 class="site-name"><a href="./" title="Burin&#39;s blog">Burin&#39;s blog</a></h1>
              <h2 class="blog-motto">不林的博客  ( ﾟ∀ﾟ)よろしく❤</h2>
            </div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">

				<ul>
					 
						<li><a href="../../index.html">首页</a></li>
					
						<li><a href="../../archives">归档</a></li>
					
						<li><a href="../../about">关于</a></li>
					
					</ul>
                <ul>
                    <li>

					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:lightsmeki.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/0523/" title="事件分发机制" itemprop="url">事件分发机制</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://lightsmeki.github.io/about" title="Burin" target="_blank" itemprop="author">Burin</a>
		
  <p class="article-time">
    <time datetime="2016-05-23T09:17:00.000Z" itemprop="datePublished"> 发表于 05月 23 2016</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>

                <li class="toc-item toc-level-2">
                    <a class="toc-link" href="#标题1">
                        <span class="toc-number">1.</span> <span class="toc-text">为何要理解事件分发机制</span>
                    </a>
                </li>

            </ol>
		
		</div>

		<p><a id="more"></a></p>
        <h2 id="标题1">为何要理解事件分发机制</h2>
        <p>首先思考一个问题：</p>
            <blockquote><p>当一个按钮同时添加了onClick和onTouch事件，它会怎样执行？</p></blockquote>
        <br/>通过一个简单的demo，我们很容易得到答案，先执行onTouch事件，再执行onClick事件。如果将修改onTouch的返回值修改为true，onClick事件可能会被拦截。
        <br/>Σ（ﾟДﾟ ）为啥会这样哦.....
        <br/>理解了View的事件分发机制，问题自然有了答案。

        <p>
            <br/>在事件分发的处理方法中，其中最主要的就是这三个方法：<code>dispatchTouchEvent()</code>,<code>onInterceptTouchEvent()</code>,<code>onTouchEvent()</code>。
            <br/>其中dispatchTouchEvent中包含onInterceptTouchEvent和onTouchEvent方法。
            <br/><br/>源码简化后如下。
            <br/>
            <figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td>
                <td class="code"><pre>
                    <div class="line"><span class="keyword">public boolean </span><span class="title">dispatchTouchEvent</span>(<span class="keyword">Motion</span> e) {</div>
                    <div class="line"><span class="keyword">boolean</span> result = <span class="keyword">false</span>;</div>
                    <div class="line">    <span class="keyword">if</span> (onInterceptTouchEvent(e)) {</div>
                    <div class="line">        //如果当前View截获事件，那么事件就会由当前View处理，即调用onTouchEvent()</div>
                    <div class="line">        result = onTouchEvent(e);</div>
                    <div class="line">    } <span class="keyword">else</span> {</div>
                    <div class="line">        //如果不截获那么交给其子View来分发</div>
                    <div class="line">        result = child.dispatchTouchEvent(e);</div>
                    <div class="line">    }</div>
                    <div class="line">    <span class="keyword">return</span> result;</div>
                    <div class="line">}</div>
                </pre></td></tr></table></figure>
        </p>

        <p>
            <figure class="highlight java"><table><tr><td class="gutter">
                <pre><div class="line">1</div><div class="line">2</div>
                    <div class="line">3</div><div class="line">4</div>
                    <div class="line">5</div><div class="line">6</div>
                    <div class="line">7</div><div class="line">8</div>
                    <div class="line">9</div><div class="line">10</div>
                    <div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td>
                <td class="code"><pre>
                    <div class="line"><span class="keyword">public boolean </span><span class="title">dispatchTouchEvent</span>(<span class="keyword">Motion</span> e) {</div>
                    <div class="line">      <span class="keyword">if</span> (onFilterTouchEventForSecurity(e)) {//检测安全性的方法，可忽略</div>
                    <div class="line">          <span class="keyword">if</span> (mOnTouchListener != <span class="keyword">null</span></div>
                    <div class="line">              && (mViewFlags & ENABLED_MASK) == ENABLED</div>
                    <div class="line">              && mOnTouchListener.onTouch(<span class="keyword">this</span>, event)) {</div>
                    <div class="line">              return <span class="keyword">true</span>;</div>
                    <div class="line">          } </div>
                    <div class="line">      <span class="keyword">if</span> (onTouchEvent(e))</div>
                    <div class="line">          return <span class="keyword">true</span>;</div>
                    <div class="line">      }</div>
                    <div class="line">  }</div>
                    <div class="line">  return <span class="keyword">false</span>;</div>
                    <div class="line">}</div>
                </pre></td></tr></table></figure>
            <!--public boolean dispatchTouchEvent(MotionEvent event) {-->
                <!--if (onFilterTouchEventForSecurity(event)) {-->
                    <!--if (mOnTouchListener != null && (mViewFlags & ENABLED_MASK) == ENABLED && mOnTouchListener.onTouch(this, event)) {-->
                        <!--return true;-->
                    <!--}-->
                    <!--if (onTouchEvent(event)) {-->
                        <!--return true;-->
                    <!--}-->
                <!--}-->
                <!--return false;-->
            <!--}-->
            <br/>当一个button同时注册了onClick和onTouch，当onTouch中的返回值为true时，相当于mOnTouchListener.onTouch(this, event)返回true，因此dispatchTouchEvent直接return true。

        </p>
        <p>
            <br/>

        </p>
        <p>
            <br/>

            <br/><br/><br/>2016/05/23

	</div>

		<footer class="article-footer clearfix">
<div class="article-catetags">

    <div class="article-categories">
      <span></span>
      <a class="article-category-link" href="./categories/Android/">Android</a>
    </div>

    <div class="article-tags">
        <span></span><a href="/tags/android/">android</a><a href="/tags/事件分发/">事件分发</a>
    </div>

</div>


<div class="article-share" id="share">

  <div data-url="http://lightsmeki.github.io/2015/1112/" data-title="事件分发机制 | Burin&#39;s blog" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
     <a href="../0425/" title="《Android源码设计模式解析》读书笔记">
      <strong>上一篇：</strong><br/>
      <span>《Android源码设计模式解析》读书笔记</span>
     </a>
</div>


<div class="next">
    <a href="#" title="#">
     <strong>下一篇：</strong><br/>
     <span></span>
    </a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>


</div>  
    <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

    <!--<div id="toc" class="toc-aside">-->
    <!--<strong class="toc-title">文章目录</strong>-->

    <!--<ol class="toc">-->
     <!--<li class="toc-item toc-level-2"><a class="toc-link" href="#标题1">-->
        <!--<span class="toc-number">1.</span> <span class="toc-text">标题1blablabla</span></a>-->
     <!--</li>-->
     <!--<li class="toc-item toc-level-2"><a class="toc-link" href="#标题2">-->
         <!--<span class="toc-number">2.</span> <span class="toc-text">标题2blablabla</span></a>-->
     <!--</li>-->
     <!--<li class="toc-item toc-level-2"><a class="toc-link" href="#标题3">-->
        <!--<span class="toc-number">3.</span> <span class="toc-text">标题3blablabla</span></a>-->
     <!--</li>-->
    <!--</ol>-->

  <!--</div>-->

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
    <ul>
        <li><a href="./categories/Android/" title="Android">Android<sup>000</sup></a></li>
        <li><a href="./categories/HTML/" title="HTML">HTML<sup>000</sup></a></li>
        <li><a href="./categories/php/" title="php">php<sup>000</sup></a></li>
        <li><a href="./categories/杂文/" title="杂文">杂文<sup>000</sup></a></li>
    </ul>
    <ul>
    <script charset="Shift_JIS" src="http://chabudai.sakura.ne.jp/blogparts/honehoneclock/honehone_clock_wh.js"></script>
    </ul>
</div>
    <object type="application/x-shockwave-flash" style="outline:none;"data="http://cdn.abowman.com/widgets/fish/fish.swf?" width="240" height="200">
        <param name="movie" value="http://cdn.abowman.com/widgets/fish/fish.swf?"></param>
        <param name="AllowScriptAccess" value="always"></param>
        <param name="wmode" value="opaque"></param>
        <param name="scale" value="noscale"/><param name="salign" value="tl"/>
    </object>
    <div class="tagcloudlist">
        <p class="asidetitle">标签云</p>
        <div class="tagcloudlist clearfix">
            <a href="#" style="font-size: 10.00px;">萌萌哒</a>

        </div>
    </div>
    <div class="archiveslist">
        <p class="asidetitle"><a href="/archives">归档</a></p>
        <ul class="archive-list">
            <li class="archive-list-item">
                <a class="archive-list-link" href="./archives/2015/01_06">2015/1/1~2015/6/30</a>
                <span class="archive-list-count">000</span>
            </li>
            <li class="archive-list-item">
                <a class="archive-list-link" href="./archives/2015/07_12">2015/7/1~2015/12/31</a>
                <span class="archive-list-count">000</span>
            </li>
        </ul>
    </div>
    <div class="linkslist">
        <p class="asidetitle">友情链接</p>
        <ul>
            <!--<li><a href="http://imid.me/" target="_blank" title="iMID">iMID's Blog</a></li>-->
            <!--<li><a href="http://www.trinea.cn/" target="_blank" title="trinea">Trinea's Blog</a></li>-->
            <!--<li><a href="http://stormzhang.github.io/" target="_blank" title="stormzhang">StormZhang's Blog</a></li>-->
            <!--<li><a href="http://daimajia.com/" target="_blank" title="daimajia">DaiMaJia.Blog</a></li>-->
            <!--<li><a href="http://macrotea.com/welcome/" target="_blank" title="daimajia">Macrotea.Blog</a></li>-->
        </ul>
    </div>

  <div class="rsspart">
	<a href="./atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
        <p> Hello, I&#39;m Burin, an Android and Web developer. <br/>
            This blog contains lots of interesting stuff, I hope you will enjoy it. ( ﾟ∀ﾟ)2333</p>
	</section>
	 
	<div class="social-font" class="clearfix">

        <a href="http://weibo.com/1759844441" target="_blank" class="icon-weibo" title="weibo"></a>

        <a href="https://github.com/lightsmeki" target="_blank" class="icon-github" title="github"></a>

        <a href="mailto:zy06812@foxmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
		<p class="copyright">Powered by <a href="http://zespia.tw/hexo/" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Pacman">Jacman</a> © 2015

        <a href="http://lightsmeki.github.io/about" target="_blank" title="Burin">Burin</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"zy06812"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="../../fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>






<div id="totop">
<a title="返回顶部"><img src="../../../img/scrollup.png"/></a>
</div>

<script src="/js/totop.js"></script>




  </body>
</html>

<a href="https://github.com/lightsmeki"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>